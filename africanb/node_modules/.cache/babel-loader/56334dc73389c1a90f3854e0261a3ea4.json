{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { API_OBTENIR_REFERENCE_PAR_PAR_FAMILLE } from '../globalConfig/globalConstConfig';\nexport default {\n  name: \"ModifierJourOffreVoyage\",\n  data() {\n    return {\n      errorMsg: null,\n      successMsg: null,\n      overlay: null,\n      jourOffreVoyageModel: {\n        id: null,\n        jourSemaineDesignation: null\n      },\n      jourSemaineSelectionnesList: [],\n      referenceJourSemaine: {\n        referenceFamilleDesignation: 'referenceFamilleJourSemaine'\n      },\n      objectToSend: {\n        datas: []\n      }\n    };\n  },\n  methods: {\n    //EDITER UN JOUR PORTANT SUR UNE OFFRE DE VOYAGE\n    async editerJourSemaineOffreVoyage() {\n      if (localStorage.getItem(\"jourOffreEdit\")) {\n        try {\n          const jourOffreEditing = JSON.parse(localStorage.getItem(\"jourOffreEdit\"));\n          this.prixOffreVoyageModel.id = modeOffreVoyageEditing.id;\n          this.prixOffreVoyageModel.designation = modeOffreVoyageEditing.designation;\n          this.prixOffreVoyageModel.offreVoyageDesignation = modeOffreVoyageEditing.offreVoyageDesignation;\n          this.prixOffreVoyageModel.categorieVoyageurDesignation = modeOffreVoyageEditing.categorieVoyageurDesignation;\n          this.prixOffreVoyageModel.modeDesignation = modeOffreVoyageEditing.modeDesignation;\n          this.prixOffreVoyageModel.prix = modeOffreVoyageEditing.prix;\n          localStorage.removeItem(\"jourOffreEdit\");\n        } catch (error) {\n          localStorage.removeItem(\"jourOffreEdit\");\n        }\n      } else {\n        this.$router.replace({\n          path: '/selectionnerOffreVoyage'\n        });\n      }\n    },\n    //OBTENIR LISTE DES JOURS DE LA SEMAINE\n    async obtenirJourSemaineList() {\n      this.objectToSend.datas.push(this.referenceJourSemaine);\n      await axios.post(API_OBTENIR_REFERENCE_PAR_PAR_FAMILLE, this.objectToSend).then(response => {\n        this.jourSemaineList = response.data.items;\n      }).catch(e => {\n        this.errorMsg = e;\n        $(\".alert-error\").fadeIn();\n        setTimeout(function () {\n          $(\".alert-error\").fadeOut();\n        }, 4000);\n      });\n    }\n  },\n  mounted() {\n    this.obtenirJourSemaineList();\n  }\n};","map":{"version":3,"mappings":";AA4BA;AACA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MAGAC;QACAC;QACAC;MACA;MAEAC;MAEAC;QACAC;MACA;MAEAC;QACAC;MACA;IACA;EACA;EAEAC;IAEA;IACA;MACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACAC;QACA;UACAA;QACA;MACA;QACA;UAAAC;QAAA;MACA;IACA;IAEA;IACA;MACA;MACA;QACA;MACA;QACA;QACAC;QACAC;UACAD;QACA;MACA;IACA;EAEA;EAEAE;IACA;EACA;AACA","names":["name","data","errorMsg","successMsg","overlay","jourOffreVoyageModel","id","jourSemaineDesignation","jourSemaineSelectionnesList","referenceJourSemaine","referenceFamilleDesignation","objectToSend","datas","methods","localStorage","path","$","setTimeout","mounted"],"sourceRoot":"src/components/administration_compagnie_transport","sources":["ModifierJourOffreVoyage.vue"],"sourcesContent":["<template>\n    <v-app>\n        <v-form @submit.prevent=\"submitForm\">\n            <v-container fluid>\n                <v-card>\n                    <v-card-title>DATER UNE OFFRE DE VOYAGE\n                        <v-spacer></v-spacer>\n                        <v-btn rounded outlined small color=\"primary\" @click=\"creerListJourSemaines(jourSemaineModel)\"><small><v-icon>mdi-check</v-icon>ENREGISTRER LE JOUR</small></v-btn>\n                    </v-card-title>\n                    <v-card-subtitle>Rattachez à vos offres , les jours ou celles-ci seront effectuées</v-card-subtitle>\n                    <v-container>\n                        <v-row>\n                            <v-col>\n                                <v-select dense rounded outlined label=\"Jour de la semaine\" :items=\"jourSemaineList\" item-value=\"designation\" item-text=\"designation\" v-model=\"jourOffreVoyageModel.jourSemaineDesignation\"></v-select>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                    <v-card-actions>\n                        <v-btn small shaped rounded outlined>REINITIALISER</v-btn>\n                        <v-btn type=\"submit\" small shaped rounded outlined color=\"success\">APPLIQUER</v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-container>\n        </v-form>\n    </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\nimport $ from 'jquery'\nimport { API_OBTENIR_REFERENCE_PAR_PAR_FAMILLE } from '../globalConfig/globalConstConfig'\n \nexport default {\n    name:\"ModifierJourOffreVoyage\",\n    data(){\n        return{\n            errorMsg:null,\n            successMsg:null,\n            overlay:null,\n\n\n            jourOffreVoyageModel:{\n                id:null,\n                jourSemaineDesignation:null\n            },\n\n            jourSemaineSelectionnesList:[],\n\n            referenceJourSemaine:{\n                referenceFamilleDesignation : 'referenceFamilleJourSemaine'\n            },\n\n            objectToSend:{\n                datas:[]\n            },\n        }\n    },\n\n    methods:{\n\n        //EDITER UN JOUR PORTANT SUR UNE OFFRE DE VOYAGE\n        async editerJourSemaineOffreVoyage(){\n            if (localStorage.getItem(\"jourOffreEdit\")) {\n                try {\n                    const jourOffreEditing = JSON.parse(localStorage.getItem(\"jourOffreEdit\"));\n                    this.prixOffreVoyageModel.id = modeOffreVoyageEditing.id;\n                    this.prixOffreVoyageModel.designation = modeOffreVoyageEditing.designation;\n                    this.prixOffreVoyageModel.offreVoyageDesignation = modeOffreVoyageEditing.offreVoyageDesignation;\n                    this.prixOffreVoyageModel.categorieVoyageurDesignation = modeOffreVoyageEditing.categorieVoyageurDesignation;\n                    this.prixOffreVoyageModel.modeDesignation = modeOffreVoyageEditing.modeDesignation;\n                    this.prixOffreVoyageModel.prix = modeOffreVoyageEditing.prix;\n                    localStorage.removeItem(\"jourOffreEdit\");\n                } catch (error) {\n                    localStorage.removeItem(\"jourOffreEdit\");\n                }\n            }else{\n                this.$router.replace({path:'/selectionnerOffreVoyage'})\n            }\n        },\n\n        //OBTENIR LISTE DES JOURS DE LA SEMAINE\n        async obtenirJourSemaineList(){\n            this.objectToSend.datas.push(this.referenceJourSemaine);\n            await axios.post(API_OBTENIR_REFERENCE_PAR_PAR_FAMILLE , this.objectToSend).then((response) => {\n                this.jourSemaineList = response.data.items;\n            }).catch((e) => {\n                this.errorMsg = e ;\n                $(\".alert-error\").fadeIn();\n                setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                }, 4000)\n            })\n        },\n\n    },\n\n    mounted(){\n        this.obtenirJourSemaineList();\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}